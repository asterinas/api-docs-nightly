<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The TDVMCALL helps invoke services from the host VMM. From the perspective of the host VMM, the TDVMCALL is a trap-like, VM exit into the host VMM, reported via the SEAMRET instruction flow."><title>tdx_guest::tdvmcall - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-cf3c48c1.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="tdx_guest" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0-nightly (854f22563 2025-01-31)" data-channel="nightly" data-search-js="search-2d513d54.js" data-settings-js="settings-6dad6058.js" ><script src="../../static.files/storage-302de22f.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-9b5d7e41.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../tdx_guest/index.html">tdx_<wbr>guest</a><span class="version">0.2.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module tdvmcall</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate tdx_<wbr>guest</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">tdx_guest</a></div><h1>Module <span>tdvmcall</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/tdx_guest/tdvmcall.rs.html#4-376">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The TDVMCALL helps invoke services from the host VMM. From the perspective of the host VMM, the TDVMCALL is a trap-like, VM exit into
the host VMM, reported via the SEAMRET instruction flow.</p>
<p>By design, after the SEAMRET, the host VMM services the request specified in the parameters
passed by the TD during the TDG.VP.VMCALL (that are passed via SEAMRET to the VMM), then
resumes the TD via a SEAMCALL [TDH.VP.ENTER] invocation.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.CpuIdInfo.html" title="struct tdx_guest::tdvmcall::CpuIdInfo">CpuId<wbr>Info</a></dt></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.Direction.html" title="enum tdx_guest::tdvmcall::Direction">Direction</a></dt><dt><a class="enum" href="enum.IoSize.html" title="enum tdx_guest::tdvmcall::IoSize">IoSize</a></dt><dt><a class="enum" href="enum.Operand.html" title="enum tdx_guest::tdvmcall::Operand">Operand</a></dt><dt><a class="enum" href="enum.TdVmcallError.html" title="enum tdx_guest::tdvmcall::TdVmcallError">TdVmcall<wbr>Error</a></dt><dt><a class="enum" href="enum.TdVmcallNum.html" title="enum tdx_guest::tdvmcall::TdVmcallNum">TdVmcall<wbr>Num</a></dt><dd>TDVMCALL Instruction Leaf Numbers Definition.</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.cpuid.html" title="fn tdx_guest::tdvmcall::cpuid">cpuid</a></dt><dt><a class="fn" href="fn.get_quote.html" title="fn tdx_guest::tdvmcall::get_quote">get_<wbr>quote</a></dt><dd>GetQuote TDG.VP.VMCALL is a doorbell-like interface used to help send a message to the
host VMM to queue operations that tend to be long-running operations.</dd><dt><a class="fn" href="fn.get_td_service.html" title="fn tdx_guest::tdvmcall::get_td_service">get_<wbr>td_<wbr>service</a></dt><dd>In Service TD scenario, there is a need to define interfaces for the command/response that
may have long latency, such as communicating with local device via Secure Protocol and Data
Model (SPDM), communicating with remote platform via Transport Layer Security (TLS)
Protocol, or communicating with a Quoting Enclave (QE) on attestation or mutual
authentication.</dd><dt><a class="fn" href="fn.get_tdvmcall_info.html" title="fn tdx_guest::tdvmcall::get_tdvmcall_info">get_<wbr>tdvmcall_<wbr>info</a></dt><dd>GetTdVmCallInfo TDG.VP.VMCALL is used to help request the host VMM enumerate which
TDG.VP.VMCALLs are supported.</dd><dt><a class="fn" href="fn.hlt.html" title="fn tdx_guest::tdvmcall::hlt">hlt</a></dt><dt><a class="fn" href="fn.io_read.html" title="fn tdx_guest::tdvmcall::io_read">io_read</a></dt><dt><a class="fn" href="fn.io_write.html" title="fn tdx_guest::tdvmcall::io_write">io_<wbr>write</a></dt><dt><a class="fn" href="fn.map_gpa.html" title="fn tdx_guest::tdvmcall::map_gpa">map_gpa</a></dt><dd>MapGPA TDG.VP.VMCALL is used to help request the host VMM to map a GPA range as private
or shared-memory mappings. This API may also be used to convert page mappings from
private to shared. The GPA range passed in this operation can indicate if the mapping is
requested for a shared or private memory via the GPA.Shared bit in the start address.</dd><dt><a class="fn" href="fn.perform_cache_operation.html" title="fn tdx_guest::tdvmcall::perform_cache_operation">perform_<wbr>cache_<wbr>operation</a></dt><dd>Used to help perform WBINVD or WBNOINVD operation.</dd><dt><a class="fn" href="fn.print.html" title="fn tdx_guest::tdvmcall::print">print</a></dt><dt><a class="fn" href="fn.rdmsr.html" title="fn tdx_guest::tdvmcall::rdmsr">rdmsr</a><sup title="unsafe function">⚠</sup></dt><dd>Safety</dd><dt><a class="fn" href="fn.read_mmio.html" title="fn tdx_guest::tdvmcall::read_mmio">read_<wbr>mmio</a><sup title="unsafe function">⚠</sup></dt><dd>Safety</dd><dt><a class="fn" href="fn.setup_event_notify_interrupt.html" title="fn tdx_guest::tdvmcall::setup_event_notify_interrupt">setup_<wbr>event_<wbr>notify_<wbr>interrupt</a></dt><dd>The guest TD may request that the host VMM specify which interrupt vector to use as an event-notify vector.</dd><dt><a class="fn" href="fn.write_mmio.html" title="fn tdx_guest::tdvmcall::write_mmio">write_<wbr>mmio</a><sup title="unsafe function">⚠</sup></dt><dd>Safety</dd><dt><a class="fn" href="fn.wrmsr.html" title="fn tdx_guest::tdvmcall::wrmsr">wrmsr</a><sup title="unsafe function">⚠</sup></dt><dd>Safety</dd></dl></section></div></main></body></html>