<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The TDCALL instruction causes a VM exit to the Intel TDX module."><title>tdx_guest::tdcall - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="tdx_guest" data-themes="" data-resource-suffix="" data-rustdoc-version="1.94.0-nightly (1aa9bab4e 2025-12-05)" data-channel="nightly" data-search-js="search-9e2438ea.js" data-stringdex-js="stringdex-a3946164.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-a410ff4d.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module tdcall</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../tdx_guest/index.html">tdx_<wbr>guest</a><span class="version">0.2.4</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module tdcall</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate tdx_<wbr>guest</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">tdx_guest</a></div><h1>Module <span>tdcall</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/tdx_guest/tdcall.rs.html#4-942">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The TDCALL instruction causes a VM exit to the Intel TDX module.</p>
<p>It is used to call guest-side Intel TDX functions. For more information about
TDCALL, please refer to the <a href="https://cdrdv2.intel.com/v1/dl/getContent/733579">Intel® TDX Module v1.5 ABI Specification</a></p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.CpuidveFlag.html" title="struct tdx_guest::tdcall::CpuidveFlag">Cpuidve<wbr>Flag</a></dt><dd>Controls whether CPUID executed by the guest TD will cause #VE unconditionally.</dd><dt><a class="struct" href="struct.GlaListEntry.html" title="struct tdx_guest::tdcall::GlaListEntry">GlaList<wbr>Entry</a></dt><dd>The <code>GlaListEntry</code> species a range of consecutive guest linear addresses, each aligned on 4KB.</dd><dt><a class="struct" href="struct.GlaListInfo.html" title="struct tdx_guest::tdcall::GlaListInfo">GlaList<wbr>Info</a></dt><dd>The <code>GlaListInfo</code> is used as a GPR input and output operand of TDG.VP.INVGLA.</dd><dt><a class="struct" href="struct.GpaAttr.html" title="struct tdx_guest::tdcall::GpaAttr">GpaAttr</a></dt><dd>GPA Attributes (Single VM) Definition.</dd><dt><a class="struct" href="struct.GpaAttrAll.html" title="struct tdx_guest::tdcall::GpaAttrAll">GpaAttr<wbr>All</a></dt><dd>GPA Attributes (all VMs) Definition.</dd><dt><a class="struct" href="struct.L2EnterGuestState.html" title="struct tdx_guest::tdcall::L2EnterGuestState">L2Enter<wbr>Guest<wbr>State</a></dt><dd>L2EnterGuestState is used as input and output of enter_l2_vcpu.</dd><dt><a class="struct" href="struct.PageAttr.html" title="struct tdx_guest::tdcall::PageAttr">Page<wbr>Attr</a></dt><dt><a class="struct" href="struct.ReportMac.html" title="struct tdx_guest::tdcall::ReportMac">Report<wbr>Mac</a></dt><dt><a class="struct" href="struct.ReportType.html" title="struct tdx_guest::tdcall::ReportType">Report<wbr>Type</a></dt><dd>REPORTTYPE indicates the reported Trusted Execution Environment (TEE) type,
sub-type and version.</dd><dt><a class="struct" href="struct.TdInfo.html" title="struct tdx_guest::tdcall::TdInfo">TdInfo</a></dt><dd>TDINFO_STRUCT is defined as the TDX-specific TEE_INFO part of TDG.MR.REPORT.</dd><dt><a class="struct" href="struct.TdReport.html" title="struct tdx_guest::tdcall::TdReport">TdReport</a></dt><dt><a class="struct" href="struct.TdgVeInfo.html" title="struct tdx_guest::tdcall::TdgVeInfo">TdgVe<wbr>Info</a></dt><dt><a class="struct" href="struct.TdgVpInfo.html" title="struct tdx_guest::tdcall::TdgVpInfo">TdgVp<wbr>Info</a></dt></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.Gpaw.html" title="enum tdx_guest::tdcall::Gpaw">Gpaw</a></dt><dt><a class="enum" href="enum.InitError.html" title="enum tdx_guest::tdcall::InitError">Init<wbr>Error</a></dt><dt><a class="enum" href="enum.InvdTranslations.html" title="enum tdx_guest::tdcall::InvdTranslations">Invd<wbr>Translations</a></dt><dd>Controls how enter_l2_vcpu flushes the TLB context and extended paging structure (EPxE) caches
associated with the L2 VM before entering the L2 VCPU.</dd><dt><a class="enum" href="enum.TdCallError.html" title="enum tdx_guest::tdcall::TdCallError">TdCall<wbr>Error</a></dt><dt><a class="enum" href="enum.TdcallNum.html" title="enum tdx_guest::tdcall::TdcallNum">Tdcall<wbr>Num</a></dt><dd>TDCALL Instruction Leaf Numbers Definition.</dd><dt><a class="enum" href="enum.TdxVirtualExceptionType.html" title="enum tdx_guest::tdcall::TdxVirtualExceptionType">TdxVirtual<wbr>Exception<wbr>Type</a></dt><dt><a class="enum" href="enum.TeeType.html" title="enum tdx_guest::tdcall::TeeType">TeeType</a></dt></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.accept_page.html" title="fn tdx_guest::tdcall::accept_page">accept_<wbr>page</a><sup title="unsafe function">⚠</sup></dt><dd>Accept a pending private page and initialize it to all-0 using the TD ephemeral private key.</dd><dt><a class="fn" href="fn.assign_svn.html" title="fn tdx_guest::tdcall::assign_svn">assign_<wbr>svn</a></dt><dd>Assign SVN values given TDSIGSTRUCTS and reference TD measurement values.</dd><dt><a class="fn" href="fn.enter_l2_vcpu.html" title="fn tdx_guest::tdcall::enter_l2_vcpu">enter_<wbr>l2_<wbr>vcpu</a></dt><dd>Enter L2 VCPU operation.</dd><dt><a class="fn" href="fn.extend_rtmr.html" title="fn tdx_guest::tdcall::extend_rtmr">extend_<wbr>rtmr</a></dt><dd>Extend a TDCS.RTMR measurement register.</dd><dt><a class="fn" href="fn.get_report.html" title="fn tdx_guest::tdcall::get_report">get_<wbr>report</a></dt><dd>TDG.MR.REPORT creates a TDREPORT_STRUCT structure that contains the measurements/configuration
information of the guest TD that called the function, measurements/configuration information
of the Intel TDX module and a REPORTMACSTRUCT.</dd><dt><a class="fn" href="fn.get_sealing_key.html" title="fn tdx_guest::tdcall::get_sealing_key">get_<wbr>sealing_<wbr>key</a></dt><dd>Get a persistent key, customized to the TD’s measurements and policy.</dd><dt><a class="fn" href="fn.get_tdinfo.html" title="fn tdx_guest::tdcall::get_tdinfo">get_<wbr>tdinfo</a></dt><dd>Get guest TD execution environment information.</dd><dt><a class="fn" href="fn.get_veinfo.html" title="fn tdx_guest::tdcall::get_veinfo">get_<wbr>veinfo</a></dt><dd>Get Virtualization Exception Information for the recent #VE exception.</dd><dt><a class="fn" href="fn.invalidate_l2_cached_ept.html" title="fn tdx_guest::tdcall::invalidate_l2_cached_ept">invalidate_<wbr>l2_<wbr>cached_<wbr>ept</a></dt><dd>Invalidate cached EPT translations for selected L2 VMs.</dd><dt><a class="fn" href="fn.invalidate_l2_gla.html" title="fn tdx_guest::tdcall::invalidate_l2_gla">invalidate_<wbr>l2_<wbr>gla</a></dt><dd>Invalidate Guest Linear Address (GLA) mappings in the translation lookaside buffers (TLBs) and paging-structure caches
for a specified L2 VM and a specified list of 4KB-aligned linear addresses.</dd><dt><a class="fn" href="fn.read_page_attr.html" title="fn tdx_guest::tdcall::read_page_attr">read_<wbr>page_<wbr>attr</a></dt><dd>Read the GPA mapping and attributes of a TD private page.</dd><dt><a class="fn" href="fn.read_servetd.html" title="fn tdx_guest::tdcall::read_servetd">read_<wbr>servetd</a></dt><dd>As a service TD, read a metadata field (control structure field) of a target TD.</dd><dt><a class="fn" href="fn.read_servetd_multiple.html" title="fn tdx_guest::tdcall::read_servetd_multiple">read_<wbr>servetd_<wbr>multiple</a></dt><dd>Read multiple target TD metadata fields.</dd><dt><a class="fn" href="fn.read_sys_metadata.html" title="fn tdx_guest::tdcall::read_sys_metadata">read_<wbr>sys_<wbr>metadata</a></dt><dd>Read a TDX Module global-scope metadata field.</dd><dt><a class="fn" href="fn.read_sys_metadata_all.html" title="fn tdx_guest::tdcall::read_sys_metadata_all">read_<wbr>sys_<wbr>metadata_<wbr>all</a></dt><dd>Read all guest-readable TDX module global-scope metadata fields.</dd><dt><a class="fn" href="fn.read_sys_metadata_multiple.html" title="fn tdx_guest::tdcall::read_sys_metadata_multiple">read_<wbr>sys_<wbr>metadata_<wbr>multiple</a></dt><dd>Read multiple TDX Module global-scope metadata fields.</dd><dt><a class="fn" href="fn.read_td_metadata.html" title="fn tdx_guest::tdcall::read_td_metadata">read_<wbr>td_<wbr>metadata</a></dt><dd>Read a TD-scope metadata field (control structure field) of a TD.</dd><dt><a class="fn" href="fn.read_vcpu_metadata.html" title="fn tdx_guest::tdcall::read_vcpu_metadata">read_<wbr>vcpu_<wbr>metadata</a></dt><dd>Read a VCPU-scope metadata field (control structure field) of a TD.</dd><dt><a class="fn" href="fn.read_vm_metadata_multiple.html" title="fn tdx_guest::tdcall::read_vm_metadata_multiple">read_<wbr>vm_<wbr>metadata_<wbr>multiple</a></dt><dd>Read multiple TD-scope metadata fields.</dd><dt><a class="fn" href="fn.read_vp_metadata_multiple.html" title="fn tdx_guest::tdcall::read_vp_metadata_multiple">read_<wbr>vp_<wbr>metadata_<wbr>multiple</a></dt><dd>Read multiple VCPU-scope metadata fields.</dd><dt><a class="fn" href="fn.release_private_page.html" title="fn tdx_guest::tdcall::release_private_page">release_<wbr>private_<wbr>page</a></dt><dd>Release a private page, enabling the host VMM to remove it.</dd><dt><a class="fn" href="fn.set_cpuidve.html" title="fn tdx_guest::tdcall::set_cpuidve">set_<wbr>cpuidve</a></dt><dd>TDG.VP.CPUIDVE.SET controls unconditional #VE on CPUID execution by the guest TD.</dd><dt><a class="fn" href="fn.verify_report.html" title="fn tdx_guest::tdcall::verify_report">verify_<wbr>report</a><sup title="unsafe function">⚠</sup></dt><dd>Verify a cryptographic REPORTMACSTRUCT that describes the contents of a TD,
to determine that it was created on the current TEE on the current platform.</dd><dt><a class="fn" href="fn.write_page_attr.html" title="fn tdx_guest::tdcall::write_page_attr">write_<wbr>page_<wbr>attr</a></dt><dd>Write the attributes of a private page. Create or remove L2 page aliases as required.</dd><dt><a class="fn" href="fn.write_servetd.html" title="fn tdx_guest::tdcall::write_servetd">write_<wbr>servetd</a></dt><dd>As a service TD, write a metadata field (control structure field) of a target TD.</dd><dt><a class="fn" href="fn.write_servetd_multiple.html" title="fn tdx_guest::tdcall::write_servetd_multiple">write_<wbr>servetd_<wbr>multiple</a></dt><dd>Write multiple target TD metadata fields.</dd><dt><a class="fn" href="fn.write_td_metadata.html" title="fn tdx_guest::tdcall::write_td_metadata">write_<wbr>td_<wbr>metadata</a></dt><dd>Write a TD-scope metadata field (control structure field) of a TD.</dd><dt><a class="fn" href="fn.write_vcpu_metadata.html" title="fn tdx_guest::tdcall::write_vcpu_metadata">write_<wbr>vcpu_<wbr>metadata</a></dt><dd>Write a VCPU-scope metadata field (control structure field) of a TD.</dd><dt><a class="fn" href="fn.write_vm_metadata_multiple.html" title="fn tdx_guest::tdcall::write_vm_metadata_multiple">write_<wbr>vm_<wbr>metadata_<wbr>multiple</a></dt><dd>Write multiple TD-scope metadata fields.</dd><dt><a class="fn" href="fn.write_vp_metadata_multiple.html" title="fn tdx_guest::tdcall::write_vp_metadata_multiple">write_<wbr>vp_<wbr>metadata_<wbr>multiple</a></dt><dd>Write multiple VCPU-scope metadata fields.</dd></dl></section></div></main></body></html>