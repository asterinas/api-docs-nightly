<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The linux bzImage setup binary."><title>linux_bzimage_setup - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="linux_bzimage_setup" data-themes="" data-resource-suffix="" data-rustdoc-version="1.94.0-nightly (1aa9bab4e 2025-12-05)" data-channel="nightly" data-search-js="search-9e2438ea.js" data-stringdex-js="stringdex-a3946164.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-a410ff4d.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Crate linux_bzimage_setup</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../linux_bzimage_setup/index.html">linux_<wbr>bzimage_<wbr>setup</a><span class="version">0.17.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#modules">Crate Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#macros" title="Macros">Macros</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>linux_<wbr>bzimage_<wbr>setup</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/linux_bzimage_setup/main.rs.html#3-31">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The linux bzImage setup binary.</p>
<p>With respect to the format of the bzImage, we design our bzImage setup in the similar
role as the setup code in the linux kernel. The setup code is responsible for
initializing the machine state, decompressing and loading the kernel image into memory.
So does our bzImage setup.</p>
<p>The bzImage setup code is concatenated to the bzImage, and it contains both the linux
boot header and the PE/COFF header to be a valid UEFI image. The setup also supports
the legacy 32 bit boot protocol, but the support for the legacy boot protocol does not
co-exist with the UEFI boot protocol. Users can choose either one of them. By specifying
the target as <code>x86_64-unknown-none</code> it supports UEFI protocols. And if the target is
<code>x86_64-i386_pm-none</code> it supports the legacy boot protocol.</p>
<p>The building process of the bzImage and the generation of the PE/COFF header is done
by the linux-bzimage-builder crate. And the code of the setup is in this crate.
You should compile this crate using the functions provided in the builder.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="mod" href="console/index.html" title="mod linux_bzimage_setup::console">console</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>A serial console.</dd><dt><a class="mod" href="loader/index.html" title="mod linux_bzimage_setup::loader">loader</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="mod" href="sync/index.html" title="mod linux_bzimage_setup::sync">sync</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Synchronization primitives.</dd><dt><a class="mod" href="x86/index.html" title="mod linux_bzimage_setup::x86">x86</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt></dl><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="macro" href="macro.println.html" title="macro linux_bzimage_setup::println">println</a></dt><dd>Prints to the standard output, with a newline.</dd></dl></section></div></main></body></html>