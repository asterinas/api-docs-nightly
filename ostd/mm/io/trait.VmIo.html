<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A trait that enables reading/writing data from/to a VM object, e.g., `USegment`, `Vec&#60;UFrame&#62;` and `UFrame`."><title>VmIo in ostd::mm::io - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="ostd" data-themes="" data-resource-suffix="" data-rustdoc-version="1.94.0-nightly (1aa9bab4e 2025-12-05)" data-channel="nightly" data-search-js="search-9e2438ea.js" data-stringdex-js="stringdex-a3946164.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-a410ff4d.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">VmIo</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../ostd/index.html">ostd</a><span class="version">0.17.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">VmIo</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#concurrency" title="Concurrency">Concurrency</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.read" title="read">read</a></li><li><a href="#tymethod.write" title="write">write</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.read_bytes" title="read_bytes">read_bytes</a></li><li><a href="#method.read_slice" title="read_slice">read_slice</a></li><li><a href="#method.read_val" title="read_val">read_val</a></li><li><a href="#method.write_bytes" title="write_bytes">write_bytes</a></li><li><a href="#method.write_slice" title="write_slice">write_slice</a></li><li><a href="#method.write_val" title="write_val">write_val</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In ostd::<wbr>mm::<wbr>io</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">ostd</a>::<wbr><a href="../index.html">mm</a>::<wbr><a href="index.html">io</a></div><h1>Trait <span class="trait">VmIo</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/ostd/mm/io.rs.html#71-176">Source</a> </span></div><pre class="rust item-decl"><code>pub trait VmIo {
    // Required methods
    fn <a href="#tymethod.read" class="fn">read</a>(&amp;self, offset: usize, writer: &amp;mut <a class="struct" href="struct.VmWriter.html" title="struct ostd::mm::io::VmWriter">VmWriter</a>&lt;'_&gt;) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.write" class="fn">write</a>(&amp;self, offset: usize, reader: &amp;mut <a class="struct" href="struct.VmReader.html" title="struct ostd::mm::io::VmReader">VmReader</a>&lt;'_&gt;) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt;;

    // Provided methods
    fn <a href="#method.read_bytes" class="fn">read_bytes</a>(&amp;self, offset: usize, buf: &amp;mut [u8]) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.read_val" class="fn">read_val</a>&lt;T: <a class="trait" href="../../../ostd_pod/trait.Pod.html" title="trait ostd_pod::Pod">Pod</a>&gt;(&amp;self, offset: usize) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;T&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.read_slice" class="fn">read_slice</a>&lt;T: <a class="trait" href="../../../ostd_pod/trait.Pod.html" title="trait ostd_pod::Pod">Pod</a>&gt;(&amp;self, offset: usize, slice: &amp;mut [T]) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.write_bytes" class="fn">write_bytes</a>(&amp;self, offset: usize, buf: &amp;[u8]) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.write_val" class="fn">write_val</a>&lt;T: <a class="trait" href="../../../ostd_pod/trait.Pod.html" title="trait ostd_pod::Pod">Pod</a>&gt;(&amp;self, offset: usize, new_val: &amp;T) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.write_slice" class="fn">write_slice</a>&lt;T: <a class="trait" href="../../../ostd_pod/trait.Pod.html" title="trait ostd_pod::Pod">Pod</a>&gt;(&amp;self, offset: usize, slice: &amp;[T]) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A trait that enables reading/writing data from/to a VM object,
e.g., <a href="../frame/segment/type.USegment.html" title="type ostd::mm::frame::segment::USegment"><code>USegment</code></a>, [<code>Vec&lt;UFrame&gt;</code>] and <a href="../frame/untyped/type.UFrame.html" title="type ostd::mm::frame::untyped::UFrame"><code>UFrame</code></a>.</p>
<h2 id="concurrency"><a class="doc-anchor" href="#concurrency">§</a>Concurrency</h2>
<p>The methods may be executed by multiple concurrent reader and writer
threads. In this case, if the results of concurrent reads or writes
desire predictability or atomicity, the users should add extra mechanism
for such properties.</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.read" class="method"><a class="src rightside" href="../../../src/ostd/mm/io.rs.html#79">Source</a><h4 class="code-header">fn <a href="#tymethod.read" class="fn">read</a>(&amp;self, offset: usize, writer: &amp;mut <a class="struct" href="struct.VmWriter.html" title="struct ostd::mm::io::VmWriter">VmWriter</a>&lt;'_&gt;) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt;</h4></section></summary><div class="docblock"><p>Reads requested data at a specified offset into a given <code>VmWriter</code>.</p>
<h5 id="no-short-reads"><a class="doc-anchor" href="#no-short-reads">§</a>No short reads</h5>
<p>On success, the <code>writer</code> must be written with the requested data
completely. If, for any reason, the requested data is only partially
available, then the method shall return an error.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.write" class="method"><a class="src rightside" href="../../../src/ostd/mm/io.rs.html#141">Source</a><h4 class="code-header">fn <a href="#tymethod.write" class="fn">write</a>(&amp;self, offset: usize, reader: &amp;mut <a class="struct" href="struct.VmReader.html" title="struct ostd::mm::io::VmReader">VmReader</a>&lt;'_&gt;) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt;</h4></section></summary><div class="docblock"><p>Writes all data from a given <code>VmReader</code> at a specified offset.</p>
<h5 id="no-short-writes"><a class="doc-anchor" href="#no-short-writes">§</a>No short writes</h5>
<p>On success, the data from the <code>reader</code> must be read to the VM object entirely.
If, for any reason, the input data can only be written partially,
then the method shall return an error.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.read_bytes" class="method"><a class="src rightside" href="../../../src/ostd/mm/io.rs.html#88-91">Source</a><h4 class="code-header">fn <a href="#method.read_bytes" class="fn">read_bytes</a>(&amp;self, offset: usize, buf: &amp;mut [u8]) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt;</h4></section></summary><div class="docblock"><p>Reads a specified number of bytes at a specified offset into a given buffer.</p>
<h5 id="no-short-reads-1"><a class="doc-anchor" href="#no-short-reads-1">§</a>No short reads</h5>
<p>Similar to <a href="trait.VmIo.html#tymethod.read" title="method ostd::mm::io::VmIo::read"><code>read</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.read_val" class="method"><a class="src rightside" href="../../../src/ostd/mm/io.rs.html#94-116">Source</a><h4 class="code-header">fn <a href="#method.read_val" class="fn">read_val</a>&lt;T: <a class="trait" href="../../../ostd_pod/trait.Pod.html" title="trait ostd_pod::Pod">Pod</a>&gt;(&amp;self, offset: usize) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;T&gt;</h4></section></summary><div class="docblock"><p>Reads a value of a specified type at a specified offset.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.read_slice" class="method"><a class="src rightside" href="../../../src/ostd/mm/io.rs.html#125-132">Source</a><h4 class="code-header">fn <a href="#method.read_slice" class="fn">read_slice</a>&lt;T: <a class="trait" href="../../../ostd_pod/trait.Pod.html" title="trait ostd_pod::Pod">Pod</a>&gt;(&amp;self, offset: usize, slice: &amp;mut [T]) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt;</h4></section></summary><div class="docblock"><p>Reads a slice of a specified type at a specified offset.</p>
<h5 id="no-short-reads-2"><a class="doc-anchor" href="#no-short-reads-2">§</a>No short reads</h5>
<p>Similar to <a href="trait.VmIo.html#tymethod.read" title="method ostd::mm::io::VmIo::read"><code>read</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_bytes" class="method"><a class="src rightside" href="../../../src/ostd/mm/io.rs.html#150-153">Source</a><h4 class="code-header">fn <a href="#method.write_bytes" class="fn">write_bytes</a>(&amp;self, offset: usize, buf: &amp;[u8]) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt;</h4></section></summary><div class="docblock"><p>Writes a specified number of bytes from a given buffer at a specified offset.</p>
<h5 id="no-short-writes-1"><a class="doc-anchor" href="#no-short-writes-1">§</a>No short writes</h5>
<p>Similar to <a href="trait.VmIo.html#tymethod.write" title="method ostd::mm::io::VmIo::write"><code>write</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_val" class="method"><a class="src rightside" href="../../../src/ostd/mm/io.rs.html#156-159">Source</a><h4 class="code-header">fn <a href="#method.write_val" class="fn">write_val</a>&lt;T: <a class="trait" href="../../../ostd_pod/trait.Pod.html" title="trait ostd_pod::Pod">Pod</a>&gt;(&amp;self, offset: usize, new_val: &amp;T) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt;</h4></section></summary><div class="docblock"><p>Writes a value of a specified type at a specified offset.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_slice" class="method"><a class="src rightside" href="../../../src/ostd/mm/io.rs.html#168-175">Source</a><h4 class="code-header">fn <a href="#method.write_slice" class="fn">write_slice</a>&lt;T: <a class="trait" href="../../../ostd_pod/trait.Pod.html" title="trait ostd_pod::Pod">Pod</a>&gt;(&amp;self, offset: usize, slice: &amp;[T]) -&gt; <a class="type" href="../../prelude/type.Result.html" title="type ostd::prelude::Result">Result</a>&lt;()&gt;</h4></section></summary><div class="docblock"><p>Writes a slice of a specified type at a specified offset.</p>
<h5 id="no-short-write"><a class="doc-anchor" href="#no-short-write">§</a>No short write</h5>
<p>Similar to <a href="trait.VmIo.html#tymethod.write" title="method ostd::mm::io::VmIo::write"><code>write</code></a>.</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-VmIo-for-S" class="impl"><a class="src rightside" href="../../../src/ostd/mm/io_util.rs.html#76-162">Source</a><a href="#impl-VmIo-for-S" class="anchor">§</a><h3 class="code-header">impl&lt;S: <a class="trait" href="../io_util/trait.HasVmReaderWriter.html" title="trait ostd::mm::io_util::HasVmReaderWriter">HasVmReaderWriter</a> + Send + Sync&gt; <a class="trait" href="trait.VmIo.html" title="trait ostd::mm::io::VmIo">VmIo</a> for S</h3></section></div><script src="../../../trait.impl/ostd/mm/io/trait.VmIo.js" async></script></section></div></main></body></html>